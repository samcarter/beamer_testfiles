% https://tex.stackexchange.com/a/446354
\documentclass{beamer}

\usepackage{totcount}
\newtotcounter{mysub}
\AtBeginSubsection{\addtocounter{mysub}{1}\label{mysub:\themysub}}
\newcounter{foo}
\usepackage{refcount}
\usepackage{tikz}

\setbeamertemplate{footline}{%
    \begin{tikzpicture}
        \draw[ultra thick] (0,0) -- (\thepage/\insertdocumentendpage*\paperwidth,0);
        \foreach \x in {1,...,\totvalue{mysub}}{%
            \setcounterpageref{foo}{mysub:\x}
                \draw[thick] (\thefoo/\insertdocumentendpage*\paperwidth,0) -- (\thefoo/\insertdocumentendpage*\paperwidth,0.5);    

        }
    \end{tikzpicture}

}

\begin{document}

\section{section name}
\subsection{section name}
\begin{frame}
\end{frame}

\begin{frame}
\end{frame}

\subsection{section name}
\begin{frame}
\end{frame}

\subsection{section name}
\begin{frame}
\end{frame}

\section{section name}
\subsection{section name}
\begin{frame}
\end{frame}

\begin{frame}
\end{frame}

\end{document}
