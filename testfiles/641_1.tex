% https://topanswers.xyz/tex?q=588#a641
\documentclass[xcolor={rgb}]{beamer}

\usepackage{totcount}
\newtotcounter{mysec}
\AtBeginSection{\addtocounter{mysec}{1}\label{mysec:\themysec}}
\newcounter{foo}
\usepackage{refcount}
\usepackage{tikz}
\usetikzlibrary{patterns.meta}

\setbeamertemplate{headline}{%
	\vskip4pt
	\begin{tikzpicture}
		\path[preaction={fill, lightgray},pattern={Lines[angle=45,line width=3pt,distance=6pt]},pattern color=lightgray!50] (0,0) rectangle (\paperwidth,0.3);
		\path[preaction={fill, green!50!teal},pattern={Lines[angle=45,line width=3pt,distance=6pt]},pattern color=green!50!teal!50] (0,0) rectangle ({(\thepage-1)/(\insertdocumentendpage-1)*\paperwidth},0.3);
		\ifnum\thesection>0
			\path[preaction={fill, cyan!50!blue},pattern={Lines[angle=45,line width=3pt,distance=6pt]},pattern color=cyan!50!blue!50] (0,0) rectangle ({(\insertsectionstartpage-1)/(\insertdocumentendpage-1)*\paperwidth},0.3);
		\fi
		\foreach \x in {1,...,\totvalue{mysec}}{%
			\setcounterpageref{foo}{mysec:\x}
			\colorlet{seccol}{green!50!teal}
			\ifnum\thesection=\x
				\colorlet{seccol}{green!50!teal}
			\else
				\ifnum\thesection<\x
					\colorlet{seccol}{lightgray}
				\else
					\colorlet{seccol}{cyan!50!blue}
				\fi
			\fi		
			\node[circle,fill=seccol,draw=white,line width=1.5pt,minimum size=15pt] at ({(\thefoo-1)/(\insertdocumentendpage-1)*\paperwidth},0.15) {\x};
			\node[seccol] at ({(\thefoo-1)/(\insertdocumentendpage-1)*\paperwidth},-0.35) {\nameref{mysec:\x}};
		}
	\end{tikzpicture}%
}

\begin{document}

\begin{frame}
\titlepage
\end{frame}

\section{Introduction}
\begin{frame}
\end{frame}
\begin{frame}
\end{frame}
\begin{frame}
\end{frame}

\section{Motivation}
\begin{frame}
\end{frame}
\begin{frame}
\end{frame}
\begin{frame}
\end{frame}
\begin{frame}
\end{frame}

\section{Methodology}
\begin{frame}
\end{frame}
\begin{frame}
\end{frame}
\begin{frame}
\end{frame}
\begin{frame}
\end{frame}


\section{Results}
\begin{frame}
\end{frame}
\begin{frame}
\end{frame}
\begin{frame}
\end{frame}

\end{document}